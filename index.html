<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Generator Pro</title>

<style>
:root{
  --primary:#6366f1;
  --bg:#020617;
  --border:#1e293b;
  --text:#e5e7eb;
}
*{box-sizing:border-box;font-family:'Segoe UI',sans-serif}

body{
  margin:0;
  background:#020617;
  color:var(--text);
  padding:20px;
}

.container{max-width:900px;margin:auto}

.card{
  background:rgba(255,255,255,0.03);
  border:1px solid var(--border);
  border-radius:16px;
  padding:20px;
  margin-bottom:20px;
}

/* Header */
.header{
  display:flex;
  align-items:center;
  gap:15px;
}

.logo{
  width:70px;
  height:70px;
  border-radius:50%;
  background:white;
  overflow:hidden;
}

.logo img{
  width:100%;
  height:100%;
  object-fit:cover;
}

h1{margin:0}

/* Inputs */
input,button{
  width:100%;
  padding:14px;
  border-radius:10px;
  border:none;
  margin-top:10px;
  font-size:16px;
}

input{
  background:#020617;
  color:white;
  border:1px solid var(--border);
}

button{
  background:var(--primary);
  color:white;
  cursor:pointer;
}
button:hover{opacity:.9}

.qr-preview{text-align:center;margin-top:20px}
.qr-preview img{
  max-width:220px;
  background:white;
  padding:10px;
  border-radius:12px;
}

/* History */
#historyBox{display:none;margin-top:15px}

.history-item{
  display:flex;
  align-items:center;
  gap:10px;
  background:#020617;
  border:1px solid var(--border);
  padding:10px;
  border-radius:12px;
  margin-bottom:8px;
}

.history-item img{
  width:60px;
  background:white;
  padding:5px;
  border-radius:8px;
}

.small{
  font-size:13px;
  color:#94a3b8;
}

.actions button{
  padding:6px 8px;
  font-size:12px;
  margin-left:4px;
}
</style>
</head>

<body>
<div class="container">

<!-- Header -->
<div class="card header">
  <div class="logo">
    <img src="https://drive.google.com/file/d/1jlzrzmdh0vZEQklPLydti9GZhOnt9-mG/view?usp=drivesdk">
  </div>
  <h1>Sifat Islam</h1>
</div>

<!-- Generator -->
<div class="card">
  <input id="qrText" placeholder="‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶¨‡¶æ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
  <button onclick="generateQR()">Generate QR</button>

  <div class="qr-preview" id="preview" style="display:none;">
    <img id="qrImage">
    <br><br>
    <button onclick="downloadQR()">Download</button>
  </div>
</div>

<!-- History Toggle -->
<div class="card">
  <button onclick="toggleHistory()">üìú History</button>
  <button onclick="clearHistory()" style="margin-top:10px;background:#ef4444">Clear All</button>

  <div id="historyBox"></div>
</div>

</div>

<script>
const qrImage=document.getElementById('qrImage');
const preview=document.getElementById('preview');
const historyBox=document.getElementById('historyBox');

function generateQR(){
  const text=qrText.value.trim();
  if(!text) return alert("‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶¶‡¶ø‡¶®");
  const url=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(text)}`;
  qrImage.src=url;
  preview.style.display="block";
  saveHistory(text,url);
}

function downloadQR(){
  const a=document.createElement('a');
  a.href=qrImage.src;
  a.download="qr-code.png";
  a.click();
}

function saveHistory(text,url){
  const data=JSON.parse(localStorage.getItem('qrHistory'))||[];
  data.unshift({text,url,time:new Date().toLocaleString()});
  localStorage.setItem('qrHistory',JSON.stringify(data));
  loadHistory();
}

function loadHistory(){
  historyBox.innerHTML="";
  const data=JSON.parse(localStorage.getItem('qrHistory'))||[];
  data.forEach((d,i)=>{
    const div=document.createElement('div');
    div.className="history-item";
    div.innerHTML=`
      <img src="${d.url}">
      <div>
        ${d.text.slice(0,30)}
        <div class="small">${d.time}</div>
      </div>
      <div class="actions">
        <button onclick="viewQR('${d.url}')">View</button>
        <button onclick="deleteItem(${i})" style="background:#ef4444">‚úñ</button>
      </div>
    `;
    historyBox.appendChild(div);
  });
}

function toggleHistory(){
  historyBox.style.display =
    historyBox.style.display==="none" ? "block" : "none";
  loadHistory();
}

function deleteItem(i){
  const data=JSON.parse(localStorage.getItem('qrHistory'))||[];
  data.splice(i,1);
  localStorage.setItem('qrHistory',JSON.stringify(data));
  loadHistory();
}

function clearHistory(){
  if(confirm("‡¶∏‡¶¨ ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")){
    localStorage.removeItem('qrHistory');
    loadHistory();
  }
}

function viewQR(url){
  qrImage.src=url;
  preview.style.display="block";
}
</script>
</body>
</html>